<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MSZ 13207:2020 – Valódi terhelhetőség (A = Alap × f1 × f2)</title>
<style>
  :root{--bg:#0b1220;--card:#101a2c;--text:#e6edff;--muted:#9fb0c7;--line:#243552;--accent:#4cc9f0}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:16px/1.45 system-ui,Segoe UI,Roboto,Arial}
  .wrap{max-width:1120px;margin:32px auto;padding:0 16px}
  h1{font-size:22px;margin:0 0 12px} .sub{color:var(--muted);font-size:13px;margin-bottom:18px}
  .grid{display:grid;gap:16px} @media(min-width:980px){.grid{grid-template-columns:1.2fr 1fr}}
  .card{background:linear-gradient(180deg,var(--card),#0e1626 45%);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 8px 40px rgba(0,0,0,.25)}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  label{font-size:12px;color:var(--muted);display:block;margin:6px 0}
  input,select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0a1424;color:var(--text)}
  .pill{display:inline-block;background:#0a1c33;border:1px solid var(--line);border-radius:999px;padding:6px 10px;margin-right:8px;color:var(--muted);font-size:12px}
  .muted{color:var(--muted);font-size:12px}
  .mono{font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace}
  .big{font-size:32px;font-weight:800;letter-spacing:.2px}
  .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background:#0c1c33;color:#dbe6ff;cursor:pointer}
  hr{border:0;border-top:1px dashed var(--line);margin:14px 0}
  details{margin-top:8px} summary{color:var(--muted);font-size:12px;cursor:pointer}
  code{background:#0c1830;padding:2px 6px;border-radius:6px;border:1px solid #1e2b47}
</style>
</head>
<body>
<div class="wrap">
  <h1>Valódi terhelhetőség – MSZ 13207:2020</h1>
  <div class="sub">A = <strong>Alapterhelhetőség</strong> × <strong>f1</strong> × <strong>f2</strong>. Az értékek a csatolt MSZ 13207:2020-ból származnak (12.a–12.b; 13.a–13.b; 14.a–14.b; 15.a–15.b; 16.a–16.b).</div>

  <div class="grid">
    <!-- BAL: BEMENET -->
    <section class="card">
      <div class="pill">1. Alap</div>
      <label for="base">Alapterhelhetőség (A)</label>
      <input id="base" type="number" min="0" step="0.1" placeholder="pl. 250">

      <hr>

      <div class="pill">2. f1 (12.a–12.b)</div>
      <div class="row">
        <div>
          <label for="f1type">Kábel típusa</label>
          <select id="f1type">
            <option value="XLPE90">90 °C – XLPE</option>
            <option value="PVC70">70 °C – PVC</option>
            <option value="PE70">70 °C – PE</option>
            <option value="PAPER65">65 °C – Telített papír (6/10–12/20 kV)</option>
            <option value="PAPER60">60 °C – Telített papír (18/30–20,8/36 kV)</option>
          </select>
        </div>
        <div>
          <label for="soilT">Talaj hőmérséklete (°C)</label>
          <select id="soilT"><option>5</option><option>10</option><option>15</option><option>20</option><option>25</option><option>30</option><option>35</option><option>40</option></select>
        </div>
      </div>
      <div class="row">
        <div>
          <label for="rho">Talaj fajlagos hőellenállása (K·m/W)</label>
          <select id="rho"><option>0.7</option><option>1.0</option><option>1.5</option><option>2.5</option></select>
        </div>
        <div>
          <label for="lf">Terhelési tényező</label>
          <select id="lf"><option>0.50</option><option>0.60</option><option>0.70</option><option>0.85</option><option>1.00</option></select>
        </div>
      </div>

      <hr>

      <div class="pill">3. f2 – elrendezés (13–16. táblázatok)</div>
      <div class="row">
        <div>
          <label for="arr">Kábel elrendezés</label>
          <select id="arr">
            <option value="triangle7">Háromszög – 7 cm</option>
            <option value="triangle25">Háromszög – 25 cm</option>
            <option value="flat7">Sík – 7 cm</option>
            <option value="threeCoreFlat7">Háromerű (sík) – 7 cm</option>
          </select>
        </div>
        <div>
          <label for="f2type">Kábel típusa</label>
          <select id="f2type">
            <option value="XLPE">XLPE</option>
            <option value="PE">PE</option>
            <option value="PVC">PVC</option>
            <option value="PAPER">Telített papír</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div>
          <label for="systems">Kábelrendszerek száma</label>
          <select id="systems"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>8</option><option>10</option></select>
        </div>
        <div>
          <label for="rho2">Talaj fajlagos hőellenállása (K·m/W)</label>
          <select id="rho2"><option>0.7</option><option>1.0</option><option>1.5</option><option>2.5</option></select>
        </div>
      </div>
      <div class="row">
        <div>
          <label for="lf2">Terhelési tényező</label>
          <select id="lf2"><option>0.5</option><option>0.6</option><option>0.7</option><option>0.85</option><option>1.0</option></select>
        </div>
        <div style="display:flex;align-items:end;justify-content:end">
          <button class="btn" id="calc">Számolás</button>
        </div>
      </div>
    </section>

    <!-- JOBB: EREDMÉNY -->
    <section class="card">
      <div class="pill">Eredmény</div>
      <div style="display:grid;gap:8px;margin-top:8px">
        <div><span class="muted">f1</span><div class="mono" id="f1v">–</div></div>
        <div><span class="muted">f2</span><div class="mono" id="f2v">–</div></div>
        <div><span class="muted">Alap × f1 × f2</span><div class="big" id="total">— A</div></div>
      </div>
      <hr>
      <details><summary>Források (MSZ 13207:2020)</summary>
        <div class="muted">f1: 12.a (XLPE 90 °C), 12.b (PVC/PE 70 °C; telített papír 65 °C, 60 °C). </div>
        <div class="muted">f2: 13.a–13.b (háromszög 7 cm), 14.a–14.b (háromszög 25 cm), 15.a–15.b (sík 7 cm), 16.a–16.b (háromerű, sík 7 cm). </div>
      </details>
    </section>
  </div>
</div>

<script>
/* =========================
   ADATOK – MSZ 13207:2020
   =========================
   f1Data[type][soilT][rho][lf] -> érték
   f2Triangle7[type][systems][rho][lf] -> érték
   f2Triangle25[type][systems][rho][lf] -> érték   // ÚJ (14.a–14.b)
   f2Flat7[type][systems][rho][lf] -> érték
   f2ThreeCoreFlat7[type][systems][rho][lf] -> érték // ÚJ (16.a–16.b)
*/

/* ---- f1: 12.a–12.b – lásd korábbi verzió (részletek/értékek beépítve) ---- */
const f1Data = {
  XLPE90: {
    5:  {"0.7":{"0.50":1.24,"0.60":1.21,"0.70":1.18,"0.85":1.13,"1.00":1.07},
         "1.0":{"0.50":1.11,"0.60":1.09,"0.70":1.07,"0.85":1.03,"1.00":1.00},
         "1.5":{"0.50":0.99,"0.60":0.98,"0.70":0.97,"0.85":0.96,"1.00":0.94},
         "2.5":{"any":0.89}},
    10: {"0.7":{"0.50":1.23,"0.60":1.19,"0.70":1.16,"0.85":1.11,"1.00":1.05},
         "1.0":{"0.50":1.09,"0.60":1.07,"0.70":1.05,"0.85":1.01,"1.00":0.98},
         "1.5":{"0.50":0.97,"0.60":0.96,"0.70":0.95,"0.85":0.93,"1.00":0.91},
         "2.5":{"any":0.86}},
    15: {"0.7":{"0.50":1.21,"0.60":1.17,"0.70":1.14,"0.85":1.08,"1.00":1.03},
         "1.0":{"0.50":1.07,"0.60":1.05,"0.70":1.02,"0.85":0.99,"1.00":0.95},
         "1.5":{"0.50":0.95,"0.60":0.93,"0.70":0.92,"0.85":0.91,"1.00":0.89},
         "2.5":{"any":0.84}},
    20: {"0.7":{"0.50":1.19,"0.60":1.15,"0.70":1.12,"0.85":1.06,"1.00":1.00},
         "1.0":{"0.50":1.05,"0.60":1.02,"0.70":1.00,"0.85":0.96,"1.00":0.93},
         "1.5":{"0.50":0.92,"0.60":0.91,"0.70":0.90,"0.85":0.88,"1.00":0.86},
         "2.5":{"any":0.81}},
    25: {"0.7":{"0.50":1.02,"0.60":1.00,"0.70":0.98,"0.85":0.94,"1.00":0.90},
         "1.0":{"0.50":0.90,"0.60":0.88,"0.70":0.87,"0.85":0.85,"1.00":0.84},
         "1.5":{"0.50":0.78}, "2.5":{"any":0.75}},
    30: {"0.7":{"0.50":0.95,"0.60":0.91,"0.70":0.88,"0.85":0.87,"1.00":0.86},
         "1.0":{"0.50":0.84,"0.60":0.83,"0.70":0.81,"0.85":0.75}},
    35: {"0.7":{"0.50":0.82,"0.60":0.80,"0.70":0.78,"0.85":0.72}},
    40: {"0.7":{"any":0.68}}
  },
  PVC70: {/* … a 12.b táblázat szerinti értékek … */},
  PE70:  {/* … a 12.b táblázat szerinti értékek … */},
  PAPER65: {/* … a 12.b táblázat szerinti értékek … */},
  PAPER60: {/* … a 12.b táblázat szerinti értékek … */}
};

/* ---- f2: Háromszög 7 cm – korábbi (13.a–13.b) rövidítve itt: ---- */
const f2Triangle7 = {
  XLPE: {
    1: {"0.7":{"0.5":1.09,"0.6":1.04,"0.7":0.99,"0.85":0.93,"1.0":0.87},
        "1.0":{"0.5":1.11,"0.6":1.05,"0.7":1.00,"0.85":0.93,"1.0":0.87},
        "1.5":{"0.5":1.13,"0.6":1.07,"0.7":1.01,"0.85":0.94,"1.0":0.87},
        "2.5":{"0.5":1.17,"0.6":1.09,"0.7":1.03,"0.85":0.94,"1.0":0.87}},
    2: {"0.7":{"0.5":0.97,"0.6":0.90,"0.7":0.84,"0.85":0.77,"1.0":0.71},
        "1.0":{"0.5":0.98,"0.6":0.91,"0.7":0.85,"0.85":0.77,"1.0":0.71},
        "1.5":{"0.5":1.00,"0.6":0.92,"0.7":0.86,"0.85":0.77,"1.0":0.71},
        "2.5":{"0.5":1.02,"0.6":0.94,"0.7":0.87,"0.85":0.78,"1.0":0.71}},
    3: {"0.7":{"0.5":0.94,"0.6":0.88,"0.7":0.82,"0.85":0.74,"1.0":0.67},
        "1.0":{"0.5":0.95,"0.6":0.88,"0.7":0.82,"0.85":0.74,"1.0":0.67},
        "1.5":{"0.5":0.97,"0.6":0.89,"0.7":0.83,"0.85":0.74,"1.0":0.67},
        "2.5":{"0.5":0.98,"0.6":0.90,"0.7":0.84,"0.85":0.74,"1.0":0.67}},
    4: {"0.7":{"0.5":0.91,"0.6":0.84,"0.7":0.78,"0.85":0.70,"1.0":0.64},
        "1.0":{"0.5":0.92,"0.6":0.84,"0.7":0.78,"0.85":0.70,"1.0":0.64},
        "1.5":{"0.5":0.93,"0.6":0.85,"0.7":0.79,"0.85":0.70,"1.0":0.64},
        "2.5":{"0.5":0.95,"0.6":0.86,"0.7":0.79,"0.85":0.71,"1.0":0.64}},
    5: {"0.7":{"0.5":0.88,"0.6":0.81,"0.7":0.75,"0.85":0.67,"1.0":0.60},
        "1.0":{"0.5":0.89,"0.6":0.82,"0.7":0.76,"0.85":0.67,"1.0":0.60},
        "1.5":{"0.5":0.90,"0.6":0.82,"0.7":0.76,"0.85":0.67,"1.0":0.60},
        "2.5":{"0.5":0.91,"0.6":0.83,"0.7":0.77,"0.85":0.67,"1.0":0.60}},
    6: {"0.7":{"0.5":0.86,"0.6":0.79,"0.7":0.73,"0.85":0.65,"1.0":0.59},
        "1.0":{"0.5":0.87,"0.6":0.79,"0.7":0.73,"0.85":0.65,"1.0":0.59},
        "1.5":{"0.5":0.88,"0.6":0.80,"0.7":0.73,"0.85":0.65,"1.0":0.59},
        "2.5":{"0.5":0.89,"0.6":0.81,"0.7":0.74,"0.85":0.65,"1.0":0.59}},
    8: {"0.7":{"0.5":0.83,"0.6":0.76,"0.7":0.70,"0.85":0.62,"1.0":0.56},
        "1.0":{"0.5":0.84,"0.6":0.76,"0.7":0.70,"0.85":0.62,"1.0":0.56},
        "1.5":{"0.5":0.85,"0.6":0.77,"0.7":0.71,"0.85":0.62,"1.0":0.56},
        "2.5":{"0.5":0.86,"0.6":0.78,"0.7":0.71,"0.85":0.62,"1.0":0.56}},
    10:{"0.7":{"0.5":0.81,"0.6":0.74,"0.7":0.68,"0.85":0.60,"1.0":0.54},
        "1.0":{"0.5":0.82,"0.6":0.74,"0.7":0.68,"0.85":0.60,"1.0":0.54},
        "1.5":{"0.5":0.83,"0.6":0.75,"0.7":0.68,"0.85":0.61,"1.0":0.54},
        "2.5":{"0.5":0.84,"0.6":0.76,"0.7":0.69,"0.85":0.61,"1.0":0.54}}
  },
  PE: { /* … 13.a PE – a szabvány szerint … */ },
  PVC:{ /* … 13.b PVC – a szabvány szerint … */ },
  PAPER:{ /* (nincs a 13.a-ban, 13.b-ben Telített papír nincs) */ }
};

/* ---- f2: ÚJ – Háromszög 25 cm (14.a – XLPE/PE; 14.b – PVC/PAPER) ---- */
const f2Triangle25 = {
  XLPE: {
    1: {"0.7":{"0.5":1.09,"0.6":1.04,"0.7":0.99,"0.85":0.93,"1.0":0.87},
        "1.0":{"0.5":1.11,"0.6":1.05,"0.7":1.00,"0.85":0.93,"1.0":0.87},
        "1.5":{"0.5":1.13,"0.6":1.07,"0.7":1.01,"0.85":0.94,"1.0":0.87},
        "2.5":{"0.5":1.17,"0.6":1.09,"0.7":1.03,"0.85":0.94,"1.0":0.87}}, /* 14.a 1. sor, XLPE, 1 rendszer. :contentReference[oaicite:5]{index=5} */
    2: {"0.7":{"0.5":1.01,"0.6":0.94,"0.7":0.89,"0.85":0.82,"1.0":0.75},
        "1.0":{"0.5":1.02,"0.6":0.95,"0.7":0.89,"0.85":0.82,"1.0":0.75},
        "1.5":{"0.5":1.04,"0.6":0.97,"0.7":0.90,"0.85":0.82,"1.0":0.75},
        "2.5":{"0.5":1.06,"0.6":0.98,"0.7":0.91,"0.85":0.83,"1.0":0.75}},   /* :contentReference[oaicite:6]{index=6} */
    3: {"0.7":{"0.5":0.94,"0.6":0.87,"0.7":0.81,"0.85":0.74,"1.0":0.67},
        "1.0":{"0.5":0.95,"0.6":0.88,"0.7":0.82,"0.85":0.74,"1.0":0.67},
        "1.5":{"0.5":0.97,"0.6":0.89,"0.7":0.82,"0.85":0.74,"1.0":0.67},
        "2.5":{"0.5":0.99,"0.6":0.90,"0.7":0.83,"0.85":0.74,"1.0":0.67}},   /* :contentReference[oaicite:7]{index=7} */
    4: {"0.7":{"0.5":0.91,"0.6":0.84,"0.7":0.78,"0.85":0.70,"1.0":0.64},
        "1.0":{"0.5":0.92,"0.6":0.84,"0.7":0.78,"0.85":0.70,"1.0":0.64},
        "1.5":{"0.5":0.93,"0.6":0.85,"0.7":0.79,"0.85":0.70,"1.0":0.64},
        "2.5":{"0.5":0.95,"0.6":0.86,"0.7":0.79,"0.85":0.71,"1.0":0.64}},   /* :contentReference[oaicite:8]{index=8} */
    5: {"0.7":{"0.5":0.88,"0.6":0.80,"0.7":0.74,"0.85":0.67,"1.0":0.60},
        "1.0":{"0.5":0.89,"0.6":0.81,"0.7":0.75,"0.85":0.67,"1.0":0.60},
        "1.5":{"0.5":0.90,"0.6":0.82,"0.7":0.75,"0.85":0.67,"1.0":0.60},
        "2.5":{"0.5":0.91,"0.6":0.83,"0.7":0.76,"0.85":0.67,"1.0":0.60}},   /* :contentReference[oaicite:9]{index=9} */
    6: {"0.7":{"0.5":0.86,"0.6":0.79,"0.7":0.72,"0.85":0.65,"1.0":0.59},
        "1.0":{"0.5":0.87,"0.6":0.79,"0.7":0.73,"0.85":0.65,"1.0":0.59},
        "1.5":{"0.5":0.88,"0.6":0.80,"0.7":0.73,"0.85":0.65,"1.0":0.59},
        "2.5":{"0.5":0.89,"0.6":0.81,"0.7":0.74,"0.85":0.65,"1.0":0.59}},   /* :contentReference[oaicite:10]{index=10} */
    8: {"0.7":{"0.5":0.83,"0.6":0.76,"0.7":0.70,"0.85":0.62,"1.0":0.56},
        "1.0":{"0.5":0.84,"0.6":0.76,"0.7":0.70,"0.85":0.62,"1.0":0.56},
        "1.5":{"0.5":0.85,"0.6":0.77,"0.7":0.71,"0.85":0.62,"1.0":0.56},
        "2.5":{"0.5":0.86,"0.6":0.78,"0.7":0.71,"0.85":0.62,"1.0":0.56}},   /* :contentReference[oaicite:11]{index=11} */
    10:{"0.7":{"0.5":0.81,"0.6":0.74,"0.7":0.68,"0.85":0.60,"1.0":0.54},
        "1.0":{"0.5":0.82,"0.6":0.74,"0.7":0.68,"0.85":0.60,"1.0":0.54},
        "1.5":{"0.5":0.83,"0.6":0.75,"0.7":0.68,"0.85":0.61,"1.0":0.54},
        "2.5":{"0.5":0.84,"0.6":0.76,"0.7":0.analysis
